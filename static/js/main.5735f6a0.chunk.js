(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{134:function(e,t,c){},135:function(e,t,c){},142:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(16),s=c.n(a),o=(c(134),c(135),c(9)),r=c(67),i=c(19),d=c.n(i),j=c(95);c(143);j.a.initializeApp({apiKey:"AIzaSyBIu8fllerTMuYXhjOq7PTkBscBdOhi3xQ",authDomain:"app-todo-d6e95.firebaseapp.com",projectId:"app-todo-d6e95",storageBucket:"app-todo-d6e95.appspot.com",messagingSenderId:"1081905182703",appId:"1:1081905182703:web:0ad9aefd4b75387844681a"});var l=j.a;c(110);var u=c(4),b=Object(n.createContext)();function O(e){var t=e.children,c="Hoje",a=Object(n.useState)(c),s=Object(o.a)(a,2),i=s[0],j=s[1],O=Object(n.useState)(void 0),m=Object(o.a)(O,2),f=m[0],h=m[1],x=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e=l.firestore().collection("todos").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(r.a)({id:e.id},e.data())}));a(t)}));return function(){return e()}}),[]),c}(),v=function(e,t){var c=Object(n.useState)([]),a=Object(o.a)(c,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){var c=e.map((function(e){return Object(r.a)({numOfTodos:t.filter((function(t){return t.projectName===e.name&&!t.checked})).length},e)}));i(c)}),[e,t]),s}(function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e=l.firestore().collection("projects").onSnapshot((function(e){var t=e.docs.map((function(e){return{id:e.id,name:e.data().name}}));a(t)}));return function(){return e()}}),[]),c}(),x),p=function(e,t){var c=Object(n.useState)([]),a=Object(o.a)(c,2),s=a[0],r=a[1];return d.a.locale("pt-br"),Object(n.useEffect)((function(){var c,n=d()().format("DD/MM/YYYY");c="Hoje"===t?e.filter((function(e){return e.date==n})):"Pr\xf3ximos 7 dias"===t?e.filter((function(e){var t=d()(e.date,"DD/MM/YYYY"),c=d()(n,"DD/MM/YYYY"),a=t.diff(c,"days");return a>=0&&a<7})):"Todos os dias"===t?e:e.filter((function(e){return e.projectName===t})),r(c)}),[e,t]),s}(x,i);return Object(u.jsx)(b.Provider,{value:{defaultProject:c,selectedProject:i,setSelectedProject:j,todos:p,projects:v,selectedTodo:f,setSelectedTodo:h},children:t})}var m=function(e){var t=e.children,c=Object(n.useContext)(b).setSelectedTodo,a=Object(n.useRef)();Object(n.useEffect)((function(){return document.addEventListener("click",s),function(){return document.removeEventListener("click",s)}}));var s=function(e){(e.target===a.current||a.current.contains(e.target))&&c(void 0)};return Object(u.jsx)("div",{className:"Sidebar",ref:a,children:t})};var f=function(e){var t=e.children;return Object(u.jsx)("div",{className:"Main",children:Object(u.jsx)("div",{className:"wrap",children:t})})},h=c.p+"static/media/Logo.db44e28d.png";var x=function(){return Object(u.jsxs)("div",{className:"User",children:[Object(u.jsx)("div",{className:"logo",children:Object(u.jsx)("img",{src:h,alt:"logo"})}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("p",{children:"Artes Bytela"}),Object(u.jsx)("a",{href:"#",children:"Logout!"})]})]})},v=c(17);var p=function(e){var t=e.children,c=e.showModal,a=e.setShowModal,s=Object(n.useRef)(),o=Object(v.useSpring)({opacity:c?1:0,top:c?"25%":"0%",config:{friction:15}});return c&&Object(u.jsx)("div",{className:"Modal",ref:s,onClick:function(e){e.target===s.current&&a(!1)},children:Object(u.jsx)(v.animated.div,{style:o,className:"container",children:t})})},N=c(171),S=c(172),g=c(180),y=c(181),k=c(182),T=c(21),C=c(173),w=c(195),M=c(117),P=c(193);var Y=function(e){var t=e.handleSubmit,c=e.heading,n=void 0!==c&&c,a=e.text,s=e.setText,o=e.day,r=e.setDay,i=e.time,d=e.setTime,j=e.todoProject,l=e.setTodoProject,b=e.projects,O=e.showButtons,m=void 0!==O&&O,f=e.setShowModal,h=void 0!==f&&f;return Object(u.jsx)(T.a,{locale:P.a,utils:M.a,children:Object(u.jsxs)("form",{onSubmit:t,className:"TodoForm",children:[Object(u.jsxs)("div",{className:"text",children:[n&&Object(u.jsx)("h3",{children:n}),Object(u.jsx)("input",{type:"text",value:a,onChange:function(e){return s(e.target.value)},placeholder:"Tarefa...",autoFocus:!0})]}),Object(u.jsxs)("div",{className:"remind",children:[Object(u.jsx)(N.a,{}),Object(u.jsx)("p",{children:"Lembre-me"})]}),Object(u.jsxs)("div",{className:"pick-day",children:[Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)(S.a,{}),Object(u.jsx)("p",{children:"Escolha um dia"})]}),Object(u.jsx)(C.a,{value:o,onChange:function(e){return r(e)}})]}),Object(u.jsxs)("div",{className:"pick-time",children:[Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)(g.a,{}),Object(u.jsx)("p",{children:"Escolha um hor\xe1rio"})]}),Object(u.jsx)(w.a,{value:i,onChange:function(e){return d(e)}})]}),Object(u.jsxs)("div",{className:"pick-project",children:[Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)(y.a,{}),Object(u.jsx)("p",{children:"Escolha um projeto"})]}),Object(u.jsx)("div",{className:"projects",children:b.length>0?b.map((function(e){return Object(u.jsx)("div",{className:"project ".concat(j===e.name?"active":""),onClick:function(){return l(e.name)},children:e.name},e.id)})):Object(u.jsx)("div",{style:{color:"orange"},children:"Por favor, adicione um projeto antes de continuar."})})]}),m&&Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"cancel",onClick:function(){return h(!1)},children:Object(u.jsx)(k.a,{size:"40"})}),Object(u.jsx)("div",{className:"confirm",children:Object(u.jsx)("button",{children:"+ Adicione uma nova tarefa"})})]})]})})},D=["Hoje","Pr\xf3ximos 7 dias","Todos os dias"],E=c(116),z=c.n(E);var A=function(){var e=Object(n.useContext)(b),t=e.projects,c=e.selectedProject,a=Object(n.useState)(!1),s=Object(o.a)(a,2),r=s[0],i=s[1],j=Object(n.useState)(""),O=Object(o.a)(j,2),m=O[0],f=O[1],h=Object(n.useState)(new Date),x=Object(o.a)(h,2),v=x[0],N=x[1],S=Object(n.useState)(new Date),g=Object(o.a)(S,2),y=g[0],k=g[1],T=Object(n.useState)(c),C=Object(o.a)(T,2),w=C[0],M=C[1];return Object(n.useEffect)((function(){M(c)}),[c]),Object(u.jsxs)("div",{className:"AddNewTodo",children:[Object(u.jsx)("div",{className:"btn",children:Object(u.jsx)("button",{onClick:function(){return i(!0)},children:"+ Nova Tarefa"})}),Object(u.jsx)(p,{showModal:r,setShowModal:i,children:Object(u.jsx)(Y,{handleSubmit:function(e){e.preventDefault(),m&&!D.includes(w)&&(l.firestore().collection("todos").add({text:m,date:d()(v).format("DD/MM/YYYY"),day:d()(v).format("d"),time:d()(y).format("HH:mm"),checked:!1,color:z()({luminosity:"dark"}),projectName:w}),i(!1),f(""),N(new Date),k(new Date))},heading:"Adicionar nova tarefa",text:m,setText:f,day:v,setDay:N,time:y,setTime:k,todoProject:w,setTodoProject:M,projects:t,showButtons:!0,setShowModal:i})})]})},B=c(183),H=c(184);var I=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useContext)(b).setSelectedProject,r=Object(v.useSpring)({transform:c?"rotate(0deg)":"rotate(180deg)",config:{friction:12}}),i=Object(v.useSpring)({display:c?"block":"none",lineHeight:c?1.2:0});return Object(u.jsxs)("div",{className:"Calendar",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)(B.a,{size:"18px"}),Object(u.jsx)("p",{children:"Calend\xe1rio"})]}),Object(u.jsx)(v.animated.div,{style:r,onClick:function(){return a(!c)},className:"btns",children:Object(u.jsx)("span",{children:Object(u.jsx)(H.a,{size:"20px"})})})]}),Object(u.jsx)(v.animated.div,{style:i,className:"items",children:D.map((function(e){return Object(u.jsx)("div",{className:"item",onClick:function(){return s(e)},children:e},e)}))})]})},L=c(188),F=c(185);var R=function(e){var t=e.handleSubmit,c=e.heading,n=e.value,a=e.setValue,s=e.setShowModal,o=e.confirmButtonText;return Object(u.jsxs)("form",{onSubmit:t,className:"ProjectForm",children:[Object(u.jsx)("h3",{children:c}),Object(u.jsx)("input",{value:n,onChange:function(e){return a(e.target.value)},type:"text",placeholder:"Nome do Projeto",autoFocus:!0}),Object(u.jsx)("button",{className:"cancel",role:"button",onClick:function(){return s(!1)},children:"Cancelar"}),Object(u.jsx)("button",{className:"confirm",children:o})]})};var V=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(o.a)(s,2),i=r[0],d=r[1];return Object(u.jsxs)("div",{className:"AddNewProject",children:[Object(u.jsx)("div",{className:"add-button",children:Object(u.jsx)("span",{onClick:function(){return a(!0)},children:Object(u.jsx)(F.a,{size:"20"})})}),Object(u.jsx)(p,{showModal:c,setShowModal:a,children:Object(u.jsx)(R,{handleSubmit:function(e){if(e.preventDefault(),i){var t=l.firestore().collection("projects");t.where("name","==",i).get().then((function(e){e.empty?t.add({name:i}):alert("Project already exists!")})),a(!1),d("")}},heading:"New project!",value:i,setValue:d,setShowModal:a,confirmButtonText:"+ Add Projeto"})})]})},J=c(186),q=c(187);var K=function(e){var t=e.project,c=e.setShowModal,a=Object(n.useState)(t.name),s=Object(o.a)(a,2),r=s[0],i=s[1],d=Object(n.useContext)(b),j=d.selectedProject,O=d.setSelectedProject;return Object(u.jsx)("div",{className:"RenameProject",children:Object(u.jsx)(R,{handleSubmit:function(e){e.preventDefault(),function(e,t){var c=l.firestore().collection("projects"),n=l.firestore().collection("todos"),a=e.name;c.where("name","==",t).get().then((function(s){s.empty?c.doc(e.id).update({name:t}).then((function(){n.where("projectName","==",a).get().then((function(e){e.forEach((function(e){e.ref.update({projectName:t})}))})).then((function(){j===a&&O(t)}))})):alert("Project with the same name already exists!")}))}(t,r),c(!1)},heading:"Editar nome do projeto!",value:r,setValue:i,setShowModal:c,confirmButtonText:"Confirmar"})})};var Q=function(e){var t=e.project,c=e.edit,a=Object(n.useContext)(b),s=a.defaultProject,r=a.selectedProject,i=a.setSelectedProject,d=Object(n.useState)(!1),j=Object(o.a)(d,2),O=j[0],m=j[1],f=Object(v.useSpring)({from:{marginTop:"-12px",opacity:0},to:{marginTop:"0px",opacity:1}}),h=Object(v.useTransition)(c,{from:{opacity:0,right:"-20px"},enter:{opacity:1,right:"0px"},leave:{opacity:0,right:"-20px"}});return Object(u.jsxs)(v.animated.div,{style:f,className:"Project",children:[Object(u.jsx)("div",{className:"name",onClick:function(){return i(t.name)},children:t.name}),Object(u.jsx)("div",{className:"btns",children:h((function(e,c){return c?Object(u.jsxs)(v.animated.div,{style:e,className:"edit-delete",children:[Object(u.jsx)("span",{className:"edit",onClick:function(){return m(!0)},children:Object(u.jsx)(J.a,{size:"13"})}),Object(u.jsx)("span",{className:"delete",onClick:function(){return function(e){l.firestore().collection("projects").doc(e.id).delete().then((function(){l.firestore().collection("todos").where("projectName","==",e.name).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))})).then((function(){r===e.name&&i(s)}))}(t)},children:Object(u.jsx)(q.a,{size:"13"})})]}):0===t.numOfTodos?"":Object(u.jsx)(v.animated.div,{style:e,className:"total-todos",children:t.numOfTodos})}))}),Object(u.jsx)(p,{showModal:O,setShowModal:m,children:Object(u.jsx)(K,{project:t,setShowModal:m})})]})};var U=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(o.a)(s,2),i=r[0],d=r[1],j=i?"#1EC94C":"#000000",l=Object(n.useContext)(b).projects,O=Object(v.useSpring)({transform:c?"rotate(0deg)":"rotate(180deg)",config:{friction:12}}),m=Object(v.useSpring)({display:c?"block":"none",lineHeight:c?1.2:0});return Object(u.jsxs)("div",{className:"Projects",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)(y.a,{size:"18"}),Object(u.jsx)("p",{children:"Projetos"})]}),Object(u.jsxs)("div",{className:"btns",children:[c&&l.length>0&&Object(u.jsx)("span",{className:"edit",onClick:function(){return d((function(e){return!e}))},children:Object(u.jsx)(L.a,{size:"15",color:j})}),Object(u.jsx)(V,{}),Object(u.jsx)(v.animated.span,{className:"arrow",onClick:function(){return a(!c)},style:O,children:Object(u.jsx)(H.a,{size:"20"})})]})]}),Object(u.jsx)(v.animated.div,{style:m,className:"items",children:l.map((function(e){return Object(u.jsx)(Q,{project:e,edit:i},e.id)}))})]})},X=c(189),G=c(190),W=c(191),Z=c(192);var $=function(e){var t=e.todo,c=Object(n.useState)(!1),a=Object(o.a)(c,2),s=a[0],i=a[1],j=Object(n.useContext)(b),O=j.selectedTodo,m=j.setSelectedTodo,f=function(e){l.firestore().collection("todos").doc(e.id).delete()},h=Object(v.useSpring)({from:{marginTop:"-12px",opacity:0},to:{marginTop:"0px",opacity:1}}),x=Object(v.useTransition)(t.checked,{from:{position:"absolute",transform:"scale(0)"},enter:{transform:"scale(1)"},leave:{transform:"scale(0)"}});return Object(u.jsx)(v.animated.div,{style:h,className:"Todo",children:Object(u.jsxs)("div",{className:"todo-container",onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:[Object(u.jsx)("div",{className:"check-todo",onClick:function(){return function(e){l.firestore().collection("todos").doc(e.id).update({checked:!e.checked})}(t)},children:x((function(e,c){return c?Object(u.jsx)(v.animated.span,{style:e,className:"checked",children:Object(u.jsx)(X.a,{color:"#bebebe"})}):Object(u.jsx)(v.animated.span,{style:e,className:"unchecked",children:Object(u.jsx)(G.a,{color:t.color})})}))}),Object(u.jsxs)("div",{className:"text",onClick:function(){return m(t)},children:[Object(u.jsx)("p",{style:{color:t.checked?"#bebebe":"#000000"},children:t.text}),Object(u.jsxs)("span",{children:[t.time," - ",t.projectName]}),Object(u.jsx)("div",{className:"line ".concat(t.checked?"line-through":"")})]}),Object(u.jsx)("div",{className:"add-to-next-day",onClick:function(){return function(e){var t=d()(e.date,"DD/MM/YYYY").add(1,"days"),c=Object(r.a)(Object(r.a)({},e),{},{checked:!1,date:t.format("DD/MM/YYYY"),day:t.format("d")});delete c.id,l.firestore().collection("todos").add(c)}(t)},children:t.checked&&Object(u.jsx)("span",{children:Object(u.jsx)(W.a,{})})}),Object(u.jsx)("div",{className:"delete-todo",onClick:function(){return function(e){f(e),O===e&&m(void 0)}(t)},children:(s||t.checked)&&Object(u.jsx)("span",{children:Object(u.jsx)(Z.a,{})})})]})})};var _=function(e){var t=e.todos,c=Object(n.useState)([]),a=Object(o.a)(c,2),s=a[0],r=a[1];return d.a.locale("pt-br"),Object(n.useEffect)((function(){var e=["0","1","2","3","4","5","6"].map((function(e){return{todos:t.filter((function(t){return t.day===e})),number:e}})),c=parseInt(d()().format("d")),n=e.slice(c).concat(e.slice(0,c));r(n)}),[t]),Object(u.jsx)("div",{className:"Next7Days",children:s.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"day",children:[Object(u.jsxs)("div",{className:"name",children:[d()(e.number,"d").format("dddd"),e.number===d()().format("d")&&" (Hoje)"]}),Object(u.jsxs)("div",{className:"total-todos",children:["(",e.todos.length,")"]})]}),Object(u.jsx)("div",{className:"todos",children:e.todos.map((function(e){return Object(u.jsx)($,{todo:e},e.id)}))})]},e.number)}))})};var ee=function(){var e=Object(n.useContext)(b),t=e.todos,c=e.selectedProject;return Object(u.jsxs)("div",{className:"Todos",children:[Object(u.jsx)("div",{className:"selected-project",children:c}),Object(u.jsx)("div",{className:"todos",children:"Pr\xf3ximos 7 dias"===c?Object(u.jsx)(_,{todos:t}):t.map((function(e){return Object(u.jsx)($,{todo:e},e.id)}))})]})};var te=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(new Date),r=Object(o.a)(s,2),i=r[0],j=r[1],O=Object(n.useState)(new Date),m=Object(o.a)(O,2),f=m[0],h=m[1],x=Object(n.useState)(""),v=Object(o.a)(x,2),p=v[0],N=v[1],S=Object(n.useContext)(b),g=S.selectedTodo,y=S.projects;return Object(n.useEffect)((function(){g&&(a(g.text),j(d()(g.date,"DD/MM/YYYY")),h(d()(g.time,"hh:mm A")),N(g.projectName))}),[g]),Object(n.useEffect)((function(){g&&l.firestore().collection("todos").doc(g.id).update({text:c,date:d()(i).format("DD/MM/YYYY"),day:d()(i).format("d"),time:d()(f).format("hh:mm A"),projectName:p})}),[c,i,f,p]),Object(u.jsx)("div",{children:g&&Object(u.jsxs)("div",{className:"EditTodo",children:[Object(u.jsx)("div",{className:"header",children:"Editar tarefa"}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)(Y,{handleSubmit:function(e){},text:c,setText:a,day:i,setDay:j,time:f,setTime:h,todoProject:p,setTodoProject:N,projects:y})})]})})};var ce=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)(m,{children:[Object(u.jsx)(x,{}),Object(u.jsx)(A,{}),Object(u.jsx)(I,{}),Object(u.jsx)(U,{})]}),Object(u.jsxs)(f,{children:[Object(u.jsx)(ee,{}),Object(u.jsx)(te,{})]})]})};s.a.render(Object(u.jsx)(O,{children:Object(u.jsx)(ce,{})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.5735f6a0.chunk.js.map